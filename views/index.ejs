<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Node Project</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
  <link rel="stylesheet" href="/stylesheets/style.css">
</head>

<body>
  <div class="main">

    <div class="left">
      <form action="/create" method="post">
        <input class="form-control" type="text" placeholder="example.extension" name="filename">
      </form>

      <hr>

      <ul class="list-group">
        <% if(files.length===0) { %>
          <p class="text-center text-danger">No File Present</p>
          <%}%>

            <% files.forEach((file)=> { %>
              <li class="list-group-item d-flex border-0 justify-content-between">
                <a class="text-decoration-none" href="/edit/<%= file %>">
                  <%= file %>
                </a>
                <a class="text-decoration-none" href="/delete/<%= file %>">
                  <span>‚ùå</span>
                </a>
              </li>
              <% }); %>
      </ul>
    </div>

    <% if(!filedata && !filename){ %>
      <h3 class="p-5 w-100 text-center text-danger">No Files Open</h3>
    <%}else{%>
        <div class="right p-5">
          <p>
            <%= filename %> &nbsp; <a class="text-decoration-none fw-bold" href="/">X</a>
          </p>
          <form method="post" action="/save/<%= filename %>">
            <textarea name="filedata" class="form-control" rows="25">
              <%= filedata %>
            </textarea>
            <button class="mt-2 px-5 btn btn-success">Save</button>
          </form>
        </div>
    <% } %>

  </div>

</body>

</html>